<div class="max-w-4xl mx-auto bg-gray-100 p-4 mt-8">
  <h1 class="text-3xl font-bold mb-4 text-center">Task Management App</h1>

  <form [formGroup]="taskform" (ngSubmit)="Savetask(taskform.value)">
    <div class="flex flex-wrap mb-4">
      <div class="w-full md:w-1/3 mb-4 md:mb-0 px-2">
        <span class="block mb-2">Task Name:</span>
        <input type="text" placeholder="Task name" class="px-4 py-2 border rounded-lg w-full" formControlName="taskname" id="taskname">
        <span *ngIf="taskname && taskname.invalid && taskname.touched" [style]="{'color':'red'}">This field is required</span>
      </div>
      <div class="w-full md:w-1/3 mb-4 md:mb-0 px-2">
        <span class="block mb-2">Description:</span>
        <input type="text" placeholder="Description" class="px-4 py-2 border rounded-lg w-full" formControlName="taskdescription" id="taskdescription">
        <span *ngIf="taskdescription && taskdescription.invalid && taskdescription.touched" [style]="{'color':'red'}">This field is required</span>
      </div>
      <div class="w-full md:w-1/3 mb-4 md:mb-0 px-2">
        <span class="block mb-2">Due Date:</span>
        <input type="date" class="px-4 py-2 border rounded-lg w-full" formControlName="taskduedate" id="taskduedate">
        <span *ngIf="taskduedate && taskduedate.invalid && taskduedate.touched" [style]="{'color':'red'}">This field is required</span>
      </div>

      <div class="w-full px-2">
        <button [disabled]="taskform.invalid" type="submit" class="block mx-auto px-3 mt-4 py-2 bg-blue-500 text-white rounded-md text-sm">{{ editMode ? 'Update Task' : 'Add Task' }}</button>
      </div>
    </div>
  </form>

  <div class="bg-white shadow-md rounded-lg overflow-x-auto mt-4">
    <table class="table-auto w-full">
      <thead>
        <tr class="bg-blue-500 text-white">
          <th class="px-4 py-2">Task Name</th>
          <th class="px-4 py-2">Description</th>
          <th class="px-4 py-2">Due Date</th>
          <th class="px-4 py-2">Status</th>
          <th class="px-4 py-2">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let task of tasks" class="hover:bg-gray-200">
          <td class="border px-4 py-3">{{ task.taskname }}</td>
          <td class="border px-4 py-3">{{ task.taskdescription }}</td>
          <td class="border px-4 py-3">{{ task.taskduedate }}</td>
          <td class="border px-4 py-3">{{ task.status }}</td>
          <td class="border px-4 py-3 text-center">
            <button class="px-3 py-2 mr-2 bg-green-500 text-white rounded-md text-sm" (click)="completeTask(task.id)">Complete</button>
            <button class="px-3 py-2 mr-2 bg-blue-500 text-white rounded-md text-sm" (click)="editTask(task)">Edit</button>
            <button class="px-3 py-2 bg-red-500 text-white rounded-md text-sm" (click)="deleteTask(task.id)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
